<h1 class="h3 mb-2 text-gray-800">Products</h1>
<div>  
  <%= link_to new_product_path, { remote: true, class: "btn btn-info" }  do %>
    New product
  <% end %>
</div>
<br />
<div class="card shadow mb-4">
<div class="card-body">
    <div class="table-responsive">
    <table class="table table-bordered" id="tablaProducts" width="100%" cellspacing="0">
        <thead>
        <tr>
            <th></th>
            <th>Name</th>
            <th>Stock</th>
            <th>Price</th>
            <th>Category</th>
            <th>Supplier</th>
        </tr>
        </thead>
        <tbody>
            <% @products.each do |product| %>
            <tr id="product_<%= product.id %>" >
                <td><%= image_tag(product.image.url, size: "50x50", class: "rounded-circle") if product.image? %></td>
                <td><%= product.name %></td>
                <td><%= product.stock %></td>
                <td>$<%= product.price %></td>
                <td><%= product.category != nil ? product.category.name : "No tiene categoria" %></td>
                <td><%= product.supplier != nil ? product.supplier.name : "No tiene proveedor" %></td>
                <td>
                <%= link_to "editar", edit_product_path(product), html_options = {class: "btn btn-info btn-xs", remote: true} %>
                <%= link_to "Borrar", product, remote: true, method: :delete, data: { confirm: "Â¿Borrar product: #{product.name}?"}, class: "btn btn-danger btn-xs" %>
                </td>
            </tr>
            <% end %>
        </tbody>
    </table>
    </div>
  </div>
</div>
<%= render 'modal_products' %>